<div class="profile-container">
  <div class="row dashboard">
    <div class="col m4 dashboard">
      <img class="profile-image" ng-src="{{user.twitter.profileImageUrl}}" alt="Profile"/>
      <ul class="collection with-header">
        <li class='collection-header'>
          <h4 class="profile-displayname">
            {{user.twitter.displayName}}
          </h4>
        </li>
        <li class='collection-item'>
            {{user.twitter.username}}
        </li>
        <li class='collection-item'>
            {{user.twitter.location}}
        </li>
      </ul>
      <div class='profile-buttons' ng-show='currentUser && currentUserData.twitter.username === user.twitter.username'>
        <div class='dash-links'>
          <a ui-sref='addBook' class="waves-effect waves-teal btn">Submit Book</a>
        </div>
        <div class='dash-links'>
          <a ui-sref='findBooks' class="waves-effect waves-teal btn">Browse Books</a>
        </div>
        <div class='dash-links'>
          <a class="waves-effect waves-teal btn">Pending Trades</a>
        </div>
      </div>
    </div>
    <div class="col m8">
      <h4>Available Books:</h4>
      <ul class="collection">
        <li ng-repeat="book in userBooks track by $index" class="collection-item avatar">
          <img ng-src="{{book.img}}" alt="" class="circle">
          <span class="title">{{book.title}}</span>
          <p>{{book.author}} <br>
            {{book.edition}}
          </p>
          <span ng-show='currentUser'>
            <span ng-hide="currentUserData.twitter.username === user.twitter.username"><a ui-sref="initiateTrade({bookId: book._id})" class="waves-effect waves-teal btn secondary-content"><i class="material-icons">swap_horiz</i>Initiate Swap</a></span>
            <span ng-show='currentUserData.twitter.username === user.twitter.username'><a ng-click="deleteBook(book, $index)" class="waves-effect waves-teal btn secondary-content"><i class="material-icons">swap_horiz</i>Delete Book</a></span>
          </span>
        </li>
      </ul>
    </div>
    <div class="col m4" ng-show="receivedTrades">
      Received Trades:
      <ul>
        <li ng-repeat="receivedTrade in receivedTrades">
          <p>Sending: {{receivedTrade.receiverBookTitle}}</p>
          <p>Receing: {{receivedTrade.initiatorBookTitle}}</p>
          <span class="right"><a class="waves-effect waves-teal btn secondary-content">Cancel</a></span>
        </li>
      </ul>
    </div>
    <div class="col m4" ng-show="sentTrades">
      Sent Trades:
      <ul>
        <li ng-repeat="sentTrade in sentTrades">
          Sending: {{sentTrade.initiatorBookTitle}}
          <br>
          Receiving: {{sentTrade.receiverBookTitle}}
          <span class="right"><a class="waves-effect waves-teal btn secondary-content">Cancel</a></span>
        </li>
      </ul>
    </div>
  </div>
</div>
